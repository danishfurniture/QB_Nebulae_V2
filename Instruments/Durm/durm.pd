#N canvas 973 717 839 475 10;
#X obj 209 60 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 10400 1;
#X obj 35 59 s start;
#X obj 366 59 s size;
#X obj 36 112 s density;
#X obj 363 111 s overlap;
#X obj 33 164 s blend;
#X obj 359 162 s window;
#X obj 204 139 s pitch;
#X obj 207 81 s speed;
#X obj 362 138 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 9200 1;
#X obj 205 114 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7600 1;
#X obj 38 143 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6900 1;
#X obj 366 86 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6500 1;
#X obj 369 36 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 37 86 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 3000 1;
#X obj 40 37 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 2900 1;
#N canvas 384 79 1477 814 handle-effects 0;
#X obj 82 436 -;
#X obj 93 369 t b f;
#X msg 83 405 1;
#X obj 126 299 moses 1;
#X obj 138 274 * 2;
#X obj 247 402 - 1;
#X obj 238 432 f;
#X msg 147 375 0;
#X msg 154 333 1;
#X obj 335 60 r speed;
#X obj 172 177 t b f;
#X obj 168 241 -;
#X msg 170 222 1;
#X obj 241 461 t b f;
#X obj 243 503 -;
#X msg 243 484 1;
#X obj 832 72 moses 0.5;
#X msg 636 267 1;
#X msg 678 272 0;
#X obj 631 321 line~ 10;
#X msg 763 274 1;
#X msg 808 277 0;
#X obj 759 329 line~ 10;
#X obj 650 121 r initbang;
#X obj 241 536 t f f;
#X obj 237 561 *;
#X obj 51 581 * 22000;
#X obj 224 598 * 22000;
#X obj 231 693 send lop-freq;
#X obj 104 503 send hip-freq;
#X obj 105 469 * 10000;
#X obj 50 628 send hip-sample-freq;
#X obj 899 385 send~ filter_on;
#X obj 1061 389 send~ sample_on;
#X obj 336 98 line 100;
#X obj 407 226 send comp-amt;
#X obj 404 173 * 2;
#X obj 402 200 - 1;
#X obj 777 124 moses 0.25;
#X msg 924 296 1;
#X msg 967 292 0;
#X obj 919 342 line~ 10;
#X msg 1060 286 1;
#X msg 1105 289 0;
#X obj 1056 342 line~ 10;
#X obj 914 128 moses 0.75;
#X obj 746 380 send~ comp_on;
#X obj 596 370 send~ glitch_on;
#X obj 266 183 * 127;
#X obj 262 214 send glitch-amt;
#X obj 831 37 r window_alt;
#X obj 545 400 s glitch_on_control;
#X text 896 434 send messages to switch audio path;
#X text 521 420 send message to turn on trigger glitches;
#X text 82 758 scale low pass and highpass for filter/ downsampler
;
#X text 421 258 scale for compressor;
#X obj 666 544 r source_alt;
#X obj 656 575 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 660 605 s kill_burst;
#X text 775 564 holding source turns off burst;
#X connect 0 0 26 0;
#X connect 0 0 30 0;
#X connect 1 0 2 0;
#X connect 1 1 0 1;
#X connect 2 0 0 0;
#X connect 3 0 7 0;
#X connect 3 0 1 0;
#X connect 3 1 5 0;
#X connect 3 1 8 0;
#X connect 4 0 3 0;
#X connect 5 0 6 0;
#X connect 6 0 13 0;
#X connect 7 0 6 0;
#X connect 8 0 1 0;
#X connect 9 0 34 0;
#X connect 10 0 12 0;
#X connect 10 1 11 1;
#X connect 11 0 4 0;
#X connect 12 0 11 0;
#X connect 13 0 15 0;
#X connect 13 1 14 1;
#X connect 14 0 24 0;
#X connect 15 0 14 0;
#X connect 16 0 38 0;
#X connect 16 1 45 0;
#X connect 17 0 19 0;
#X connect 17 0 51 0;
#X connect 18 0 19 0;
#X connect 18 0 51 0;
#X connect 19 0 47 0;
#X connect 20 0 22 0;
#X connect 21 0 22 0;
#X connect 22 0 46 0;
#X connect 23 0 17 0;
#X connect 23 0 21 0;
#X connect 24 0 25 0;
#X connect 24 1 25 1;
#X connect 25 0 27 0;
#X connect 26 0 31 0;
#X connect 27 0 28 0;
#X connect 30 0 29 0;
#X connect 34 0 10 0;
#X connect 34 0 36 0;
#X connect 34 0 48 0;
#X connect 36 0 37 0;
#X connect 37 0 35 0;
#X connect 38 0 17 0;
#X connect 38 0 21 0;
#X connect 38 0 40 0;
#X connect 38 0 43 0;
#X connect 38 1 18 0;
#X connect 38 1 20 0;
#X connect 38 1 40 0;
#X connect 38 1 43 0;
#X connect 39 0 41 0;
#X connect 40 0 41 0;
#X connect 41 0 32 0;
#X connect 42 0 44 0;
#X connect 43 0 44 0;
#X connect 44 0 33 0;
#X connect 45 0 39 0;
#X connect 45 0 43 0;
#X connect 45 0 21 0;
#X connect 45 0 18 0;
#X connect 45 1 40 0;
#X connect 45 1 42 0;
#X connect 45 1 21 0;
#X connect 45 1 18 0;
#X connect 48 0 49 0;
#X connect 50 0 16 0;
#X connect 56 0 57 0;
#X connect 57 0 58 0;
#X restore 49 272 pd handle-effects;
#N canvas 0 50 528 380 audio-input 0;
#X obj 56 191 adc~;
#X obj 91 246 *~;
#X obj 141 250 *~;
#X obj 281 176 max~;
#X obj 106 111 receive~ l-env;
#X obj 148 214 sig~ 1;
#X obj 107 164 *~ -1;
#X obj 312 149 max~;
#X obj 246 219 *~ -1;
#X obj 249 95 receive~ r-env1;
#X obj 318 38 receive~ r-env3;
#X obj 283 62 receive~ r-env2;
#X obj 90 288 throw~ lbus;
#X obj 210 288 throw~ rbus;
#X obj 345 243 send~ max-r-env;
#X text 53 19 envelopes for side chain compression;
#X text 44 49 of incoming audio;
#X text 361 124 right side compressor;
#X text 365 142 uses maximum envelope;
#X text 363 158 of all 3 instruments;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 1 0 12 0;
#X connect 2 0 13 0;
#X connect 3 0 8 0;
#X connect 3 0 14 0;
#X connect 4 0 6 0;
#X connect 5 0 1 1;
#X connect 5 0 2 1;
#X connect 6 0 1 1;
#X connect 7 0 3 1;
#X connect 8 0 2 1;
#X connect 9 0 3 0;
#X connect 10 0 7 1;
#X connect 11 0 7 0;
#X restore 46 316 pd audio-input;
#N canvas 467 297 630 442 audio-output 0;
#X obj 236 345 dac~;
#X msg 407 321 \; pd dsp 1;
#X obj 407 269 loadbang;
#X obj 407 294 delay 100;
#X obj 52 56 catch~ lbus;
#X obj 392 70 catch~ rbus;
#N canvas 0 50 554 431 glitch-effect 0;
#X obj 90 20 inlet~;
#X obj 197 22 inlet~;
#X obj 47 302 outlet~;
#X obj 217 309 outlet~;
#X obj 101 265 *~;
#X obj 150 267 *~;
#X obj 218 193 receive~ glitch_on;
#X text 256 90 effect bypass;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 5 1;
#X connect 6 0 4 1;
#X restore 178 146 pd glitch-effect;
#N canvas 0 241 1052 578 downsamp-effect 0;
#X obj 127 78 inlet~;
#X obj 246 75 inlet~;
#X obj 155 531 outlet~;
#X obj 325 538 outlet~;
#X obj 206 478 *~;
#X obj 255 480 *~;
#X obj 446 228 phasor~;
#X obj 344 131 phasor~;
#X obj 257 268 samphold~;
#X obj 384 262 samphold~;
#X obj 244 226 samphold~;
#X obj 361 223 samphold~;
#X obj 362 293 -~;
#X obj 206 291 -~;
#X obj 431 147 r hip-sample-freq;
#X obj 317 457 receive~ sample_on;
#X obj 502 57 r lop-freq;
#X text 75 226 low pass downsampler;
#X text 28 280 high pass downsampler;
#X obj 580 351 line~ 10;
#X text 650 341 reduce zipper noise;
#X obj 308 384 *~;
#X obj 308 416 *~;
#X obj 211 383 *~;
#X obj 211 415 *~;
#X text 575 256 turn off audio at extreme highpass settings;
#X floatatom 864 366 10 0 0 0 - - -;
#X floatatom 447 315 10 0 0 0 - - -;
#X text 549 184 turn off audio at extreme lowpass settings;
#X obj 575 390 line~ 10;
#X floatatom 894 250 5 0 0 0 - - -;
#X obj 537 210 expr min ( 1 \, 1 - ( ( 2000 - $f1 ) / 2000 ) );
#X obj 531 279 expr min ( 1 \, 1 - ( ( $f1 - 18000 ) / 4000 ) );
#X connect 0 0 10 0;
#X connect 1 0 11 0;
#X connect 4 0 2 0;
#X connect 5 0 3 0;
#X connect 6 0 9 1;
#X connect 6 0 8 1;
#X connect 7 0 10 1;
#X connect 7 0 11 1;
#X connect 8 0 13 1;
#X connect 9 0 12 1;
#X connect 10 0 13 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 11 0 9 0;
#X connect 12 0 21 0;
#X connect 13 0 23 0;
#X connect 14 0 6 0;
#X connect 14 0 32 0;
#X connect 15 0 5 1;
#X connect 15 0 4 1;
#X connect 16 0 7 0;
#X connect 16 0 31 0;
#X connect 19 0 21 1;
#X connect 19 0 23 1;
#X connect 21 0 22 0;
#X connect 22 0 5 0;
#X connect 23 0 24 0;
#X connect 24 0 4 0;
#X connect 26 0 29 0;
#X connect 29 0 22 1;
#X connect 29 0 24 1;
#X connect 30 0 26 0;
#X connect 31 0 30 0;
#X connect 32 0 19 0;
#X connect 32 0 27 0;
#X restore 183 228 pd downsamp-effect;
#N canvas 0 50 1009 780 filter-effect 0;
#X obj 240 78 inlet~;
#X obj 347 80 inlet~;
#X obj 206 631 outlet~;
#X obj 376 638 outlet~;
#X obj 269 390 hip~ 0;
#X obj 351 387 hip~ 0;
#X obj 353 349 lop~ 22000;
#X obj 271 352 lop~ 22000;
#X obj 326 472 *~;
#X obj 279 470 *~;
#X obj 475 200 r lop-freq;
#X obj 371 242 r hip-freq;
#X obj 237 423 receive~ filter_on;
#X obj 615 494 line~ 10;
#X text 685 484 reduce zipper noise;
#X obj 343 527 *~;
#X obj 343 559 *~;
#X obj 246 526 *~;
#X obj 246 558 *~;
#X text 610 399 turn off audio at extreme highpass settings;
#X floatatom 899 509 10 0 0 0 - - -;
#X floatatom 482 458 10 0 0 0 - - -;
#X text 584 327 turn off audio at extreme lowpass settings;
#X obj 610 533 line~ 10;
#X floatatom 929 393 5 0 0 0 - - -;
#X obj 566 422 expr min ( 1 \, 1 - ( ( $f1 - 8000 ) / 2000 ) );
#X obj 571 353 expr min ( 1 \, 1 - ( ( 2000 - $f1 ) / 2000 ) );
#X connect 0 0 7 0;
#X connect 1 0 6 0;
#X connect 4 0 9 0;
#X connect 5 0 8 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 8 0 15 0;
#X connect 9 0 17 0;
#X connect 10 0 6 1;
#X connect 10 0 7 1;
#X connect 10 0 26 0;
#X connect 11 0 5 1;
#X connect 11 0 4 1;
#X connect 11 0 25 0;
#X connect 12 0 9 1;
#X connect 12 0 8 1;
#X connect 13 0 15 1;
#X connect 13 0 17 1;
#X connect 15 0 16 0;
#X connect 16 0 3 0;
#X connect 17 0 18 0;
#X connect 18 0 2 0;
#X connect 20 0 23 0;
#X connect 23 0 16 1;
#X connect 23 0 18 1;
#X connect 24 0 20 0;
#X connect 25 0 13 0;
#X connect 25 0 21 0;
#X connect 26 0 24 0;
#X restore 194 264 pd filter-effect;
#X text 95 380 switching between different effects;
#N canvas 46 150 1009 780 compand-effect 0;
#X obj 100 63 inlet~;
#X obj 216 71 inlet~;
#X obj 206 631 outlet~;
#X obj 376 638 outlet~;
#X obj 275 387 *~;
#X obj 359 198 *~;
#X obj 357 263 +~ 1;
#X obj 360 233 clip~ -1 2;
#X obj 352 105 receive~ l-env;
#X obj 248 566 *~;
#X obj 297 568 *~;
#X obj 318 544 receive~ comp_on;
#X obj 320 393 *~;
#X obj 386 164 r comp-amt;
#X obj 412 270 *~;
#X obj 410 335 +~ 1;
#X obj 413 305 clip~ -1 2;
#X obj 463 192 receive~ max-r-env;
#X floatatom 554 289 5 0 0 0 - - -;
#X obj 524 341 clip 0.5 1;
#X obj 541 370 - 0.5;
#X obj 387 452 expr~ tan ( $f2 * $v1 );
#X obj 140 472 expr~ tan ( $f2 * $v1 );
#X obj 542 398 * 4;
#X text 483 499 compressor adds tangent distortion at higher levels
;
#X text 540 238 envelope is either added or subtracted from incoming
signal;
#X text 623 268 depending on speed knob position;
#X connect 0 0 4 0;
#X connect 1 0 12 0;
#X connect 4 0 9 0;
#X connect 4 0 22 0;
#X connect 5 0 7 0;
#X connect 6 0 4 1;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X connect 11 0 10 1;
#X connect 11 0 9 1;
#X connect 12 0 10 0;
#X connect 12 0 21 0;
#X connect 13 0 5 1;
#X connect 13 0 14 1;
#X connect 13 0 18 0;
#X connect 14 0 16 0;
#X connect 15 0 12 1;
#X connect 16 0 15 0;
#X connect 17 0 14 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 23 0;
#X connect 21 0 10 0;
#X connect 22 0 9 0;
#X connect 23 0 21 1;
#X connect 23 0 22 1;
#X restore 175 186 pd compand-effect;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X connect 4 0 6 0;
#X connect 4 0 10 0;
#X connect 4 0 7 0;
#X connect 4 0 8 0;
#X connect 5 0 6 1;
#X connect 5 0 10 1;
#X connect 5 0 7 1;
#X connect 5 0 8 1;
#X connect 6 0 0 0;
#X connect 6 1 0 1;
#X connect 7 0 0 0;
#X connect 7 1 0 1;
#X connect 8 0 0 0;
#X connect 8 1 0 1;
#X connect 10 0 0 0;
#X connect 10 1 0 1;
#X restore 42 357 pd audio-output;
#N canvas 330 154 1422 521 receive-UI-controls 0;
#X obj 54 33 netreceive 3000;
#X obj 138 88 route start size density overlap blend window pitch speed
record file source reset freeze;
#X obj 98 451 s start;
#X obj 130 411 s size;
#X obj 159 366 s density;
#X obj 188 329 s overlap;
#X obj 218 297 s blend;
#X obj 249 263 s window;
#X obj 279 242 s pitch;
#X obj 310 215 s speed;
#X obj 386 271 s record;
#X obj 412 249 s file;
#X obj 445 230 s source;
#X obj 472 192 s reset;
#X obj 503 155 s freeze;
#X obj 547 269 s start_alt;
#X obj 565 244 s size_alt;
#X obj 580 221 s density_alt;
#X obj 598 196 s overlap_alt;
#X obj 681 275 s blend_alt;
#X obj 707 250 s window_alt;
#X obj 724 229 s pitch_alt;
#X obj 911 276 s freeze_alt;
#X obj 788 276 s record_alt;
#X obj 806 251 s file_alt;
#X obj 824 229 s source_alt;
#X obj 1104 138 loadbang;
#X obj 1104 160 delay 300;
#X obj 1104 182 s initbang;
#X obj 1294 148 r initbang;
#X msg 1294 170 \; pd dsp 1;
#X obj 954 334 s speed_alt;
#X text 398 458 receives the interface messages from the nebulae;
#X obj 557 76 route start_alt size_alt density_alt overlap_alt blend_alt
window_alt pitch_alt record_alt file_alt source_alt freeze_alt speed_alt
reset_alt;
#X obj 964 171 s reset_alt;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 1 3 5 0;
#X connect 1 4 6 0;
#X connect 1 5 7 0;
#X connect 1 6 8 0;
#X connect 1 7 9 0;
#X connect 1 8 10 0;
#X connect 1 9 11 0;
#X connect 1 10 12 0;
#X connect 1 11 13 0;
#X connect 1 12 14 0;
#X connect 1 13 33 0;
#X connect 26 0 27 0;
#X connect 27 0 28 0;
#X connect 29 0 30 0;
#X connect 33 0 15 0;
#X connect 33 1 16 0;
#X connect 33 2 17 0;
#X connect 33 3 18 0;
#X connect 33 4 19 0;
#X connect 33 5 20 0;
#X connect 33 6 21 0;
#X connect 33 7 23 0;
#X connect 33 8 24 0;
#X connect 33 9 25 0;
#X connect 33 10 22 0;
#X connect 33 12 34 0;
#X restore 40 391 pd receive-UI-controls;
#N canvas 446 339 843 352 drum-synthesis 0;
#X obj 50 159 change;
#X obj 50 132 r record;
#N canvas 827 462 465 450 bd 0;
#X obj 126 32 inlet;
#X obj 120 168 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 132 401 outlet~;
#X obj 159 100 t b b;
#N canvas 140 258 811 587 randomness 0;
#X obj 46 26 inlet;
#X obj 363 542 outlet;
#X obj 309 74 random 100;
#X obj 627 32 r speed;
#X obj 322 363 spigot 1;
#X obj 603 76 * 200;
#X obj 439 132 - 100;
#X obj 379 159 <;
#X obj 414 410 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 39 416 metro 100;
#X obj 41 478 spigot;
#X obj 42 527 outlet;
#X obj 408 441 == 0;
#X obj 357 479 spigot 1;
#X obj 395 276 &&;
#X text 614 189 turn on or off the effect;
#X text 618 122 decide if skipping step;
#N canvas 906 356 697 389 calculate-burst-timing 0;
#X obj 26 226 r time_base;
#X obj 103 50 / 25;
#X obj 99 86 int;
#X obj 85 119 sel 0 1 2 3;
#X msg 72 151 1;
#X msg 107 148 2;
#X msg 139 151 4;
#X obj 124 303 /, f 5;
#X obj 123 270 f;
#X obj 123 202 t b f;
#X msg 177 154 8;
#X obj 57 248 max 20;
#X obj 102 20 inlet;
#X obj 124 338 outlet;
#X text 227 156 burst timing is only even multiples;
#X text 198 328 time base caluculated from incoming triggers;
#X obj 230 287 s bd_ratchet_speed;
#X obj 207 219 spigot 1;
#X obj 295 215 sel 0;
#X msg 286 247 1;
#X obj 266 181 inlet;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 10 0;
#X connect 4 0 9 0;
#X connect 4 0 17 0;
#X connect 5 0 9 0;
#X connect 5 0 17 0;
#X connect 6 0 9 0;
#X connect 6 0 17 0;
#X connect 7 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 7 1;
#X connect 10 0 9 0;
#X connect 10 0 17 0;
#X connect 11 0 8 1;
#X connect 12 0 1 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 16 0;
#X connect 20 0 17 1;
#X connect 20 0 18 0;
#X restore 103 339 pd calculate-burst-timing;
#X obj 381 242 f;
#X obj 401 198 t b f;
#X obj 590 290 &&;
#X obj 576 256 f;
#X obj 596 212 t b f;
#X obj 588 333 == 0;
#X obj 601 168 r glitch_on_control;
#X text 450 433 supress normal triggers when ratcheting;
#X text 454 456 to keep parameters locked;
#X text 411 162 decide if ratcheting;
#X obj 657 339 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 575 119 >;
#X obj 72 237 r kill_burst;
#X msg 69 278 0;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 0 17 0;
#X connect 2 0 29 0;
#X connect 3 0 5 0;
#X connect 4 0 9 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 5 0 29 1;
#X connect 6 0 7 1;
#X connect 7 0 18 0;
#X connect 8 0 10 1;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 1;
#X connect 13 0 1 0;
#X connect 14 0 8 0;
#X connect 14 0 17 1;
#X connect 17 0 9 1;
#X connect 18 0 14 0;
#X connect 19 0 18 0;
#X connect 19 1 14 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 22 1 20 1;
#X connect 23 0 28 0;
#X connect 23 0 4 1;
#X connect 24 0 22 0;
#X connect 24 0 19 0;
#X connect 29 0 21 0;
#X connect 30 0 31 0;
#X connect 31 0 9 0;
#X restore 132 67 pd randomness;
#N canvas 374 203 1136 623 parameters 0;
#X obj 533 394 r density;
#X obj 741 405 r size;
#X obj 641 412 r blend;
#X obj 417 395 r start;
#X obj 398 297 *;
#X obj 415 272 r start_alt;
#X obj 520 295 *;
#X obj 624 311 *;
#X obj 722 302 *;
#X obj 819 309 *;
#X obj 537 270 r density_alt;
#X obj 644 279 r blend_alt;
#X obj 739 277 r size_alt;
#X obj 832 278 r overlap_alt;
#X obj 404 425 +;
#X obj 517 429 +;
#X obj 614 446 +;
#X obj 718 440 +, f 4;
#X obj 815 451 +, f 4;
#X obj 394 166 random 100;
#X obj 517 170 random 100;
#X obj 629 171 random 100;
#X obj 740 176 random 100;
#X obj 824 176 random 100;
#X obj 974 390 r window;
#X obj 843 411 r overlap;
#X obj 831 216 / 100;
#X obj 737 212 / 100;
#X obj 641 215 / 100;
#X obj 525 214 / 100;
#X obj 391 205 / 100;
#X obj 405 532 outlet;
#X obj 502 535 outlet;
#X obj 612 543 outlet;
#X obj 707 531 outlet;
#X obj 808 542 outlet;
#X obj 906 541 outlet;
#X obj 408 487 f;
#X obj 506 490 f;
#X obj 614 500 f;
#X obj 710 488 f;
#X obj 813 492 f;
#X obj 912 491 f;
#X obj 134 108 t b b;
#X obj 144 29 inlet;
#X obj 139 453 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 129 71 spigot 1;
#X obj 236 27 r record_alt;
#X text 485 31 freezes/ unfreezes drum parameters;
#X text 23 161 generate random value;
#X text 16 274 scale random value;
#X text 9 388 offset by base parameter;
#X text 55 413 value;
#X text 18 480 only update if drum;
#X text 28 496 is unfrozen;
#X obj 219 378 r pitch;
#X obj 205 429 f;
#X obj 270 430 * 127;
#X obj 301 377 r pitch_alt;
#X obj 206 514 *~ 127;
#X text 210 295 pitch has no randomness;
#X text 204 334 pitch_alt scales bass drum pitch;
#X obj 205 545 outlet~;
#X text 118 574 too lazy to patch hot multiply;
#X connect 0 0 15 1;
#X connect 1 0 17 1;
#X connect 2 0 16 1;
#X connect 3 0 14 1;
#X connect 4 0 14 0;
#X connect 5 0 4 1;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 8 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 6 1;
#X connect 11 0 7 1;
#X connect 12 0 8 1;
#X connect 13 0 9 1;
#X connect 14 0 37 1;
#X connect 15 0 38 1;
#X connect 16 0 39 1;
#X connect 17 0 40 1;
#X connect 18 0 41 1;
#X connect 19 0 30 0;
#X connect 20 0 29 0;
#X connect 21 0 28 0;
#X connect 22 0 27 0;
#X connect 23 0 26 0;
#X connect 24 0 42 1;
#X connect 25 0 18 1;
#X connect 26 0 9 0;
#X connect 27 0 8 0;
#X connect 28 0 7 0;
#X connect 29 0 6 0;
#X connect 30 0 4 0;
#X connect 37 0 31 0;
#X connect 38 0 32 0;
#X connect 39 0 33 0;
#X connect 40 0 34 0;
#X connect 41 0 35 0;
#X connect 42 0 36 0;
#X connect 43 0 45 0;
#X connect 43 1 19 0;
#X connect 43 1 20 0;
#X connect 43 1 21 0;
#X connect 43 1 22 0;
#X connect 43 1 23 0;
#X connect 44 0 46 0;
#X connect 45 0 37 0;
#X connect 45 0 38 0;
#X connect 45 0 39 0;
#X connect 45 0 40 0;
#X connect 45 0 41 0;
#X connect 45 0 42 0;
#X connect 45 0 56 0;
#X connect 46 0 43 0;
#X connect 47 0 46 1;
#X connect 55 0 56 1;
#X connect 56 0 59 0;
#X connect 57 0 59 1;
#X connect 58 0 57 0;
#X connect 59 0 62 0;
#X restore 181 141 pd parameters;
#N canvas 867 290 560 538 oscillator-bank 0;
#X obj 37 66 inlet~;
#X obj 243 34 inlet;
#X obj 202 496 outlet~;
#X obj 25 239 mtof~;
#X obj 116 235 mtof~;
#X obj 113 358 *~;
#X obj 153 387 *~;
#X obj 213 246 mtof~;
#X obj 55 319 cos~;
#X obj 14 280 phasor~;
#X obj 167 313 cos~;
#X obj 126 274 phasor~;
#X obj 94 198 lop~ 10;
#X obj 206 196 lop~ 20;
#X obj 243 318 cos~;
#X obj 210 277 phasor~;
#X obj 105 456 *~;
#X obj 242 128 * 2;
#X text 31 36 freq input;
#X text 145 105 lag amount;
#X text 189 387 oscillators all ring modulate;
#N canvas 1247 334 588 368 split-param 0;
#X obj 140 40 inlet;
#X obj 50 315 outlet;
#X obj 231 316 outlet;
#X obj 101 224 -;
#X obj 112 157 t b f;
#X msg 102 193 1;
#X obj 225 132 - 1;
#X msg 150 133 0;
#X obj 96 261 * 20;
#X msg 184 137 1;
#X obj 171 239 *;
#X obj 168 209 t f f;
#X obj 164 261 * 4;
#X obj 101 224 -;
#X obj 112 157 t b f;
#X msg 102 193 1;
#X obj 139 71 * 2;
#X obj 225 132 - 1;
#X msg 150 133 0;
#X obj 96 261 * 20;
#X msg 184 137 1;
#X obj 171 239 *;
#X obj 168 209 t f f;
#X obj 164 261 * 4;
#X text 210 47 lets us control two parameters with one input;
#X text 266 108 parameter is split down middle;
#X obj 140 103 moses 1;
#X obj 140 103 moses 1;
#X connect 0 0 16 0;
#X connect 3 0 8 0;
#X connect 4 0 5 0;
#X connect 4 1 3 1;
#X connect 5 0 3 0;
#X connect 6 0 11 0;
#X connect 7 0 11 0;
#X connect 8 0 1 0;
#X connect 9 0 4 0;
#X connect 10 0 12 0;
#X connect 11 0 10 0;
#X connect 11 1 10 1;
#X connect 12 0 2 0;
#X connect 13 0 19 0;
#X connect 14 0 15 0;
#X connect 14 1 13 1;
#X connect 15 0 13 0;
#X connect 16 0 26 0;
#X connect 20 0 14 0;
#X connect 21 0 23 0;
#X connect 22 0 21 0;
#X connect 22 1 21 1;
#X connect 26 0 4 0;
#X connect 26 0 7 0;
#X connect 26 1 9 0;
#X connect 26 1 6 0;
#X restore 242 80 pd split-param;
#X text 354 106 base oscillator volume;
#X floatatom 443 403 5 0 0 0 - - -;
#X connect 0 0 3 0;
#X connect 0 0 12 0;
#X connect 0 0 13 0;
#X connect 1 0 21 0;
#X connect 3 0 9 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 15 0;
#X connect 8 0 5 0;
#X connect 8 0 16 0;
#X connect 9 0 8 0;
#X connect 10 0 5 1;
#X connect 11 0 10 0;
#X connect 12 0 4 0;
#X connect 13 0 7 0;
#X connect 14 0 6 1;
#X connect 15 0 14 0;
#X connect 16 0 2 0;
#X connect 17 0 13 1;
#X connect 21 0 17 0;
#X connect 21 0 12 1;
#X connect 21 1 23 0;
#X connect 23 0 16 1;
#X restore 120 292 pd oscillator-bank;
#N canvas 1223 202 488 505 pitch-env 0;
#X obj 198 311 line~;
#X msg 195 271 1 \, 0 \$1;
#X floatatom 245 348 5 0 0 0 - - -;
#X obj 179 401 *~;
#X obj 198 169 f, f 4;
#X obj 255 323 * 64;
#X obj 179 359 *~;
#X obj 162 83 inlet;
#X obj 277 94 inlet;
#X obj 179 454 outlet~;
#X obj 336 91 inlet;
#X text 53 352 exponential env;
#X obj 189 200 * 1000;
#X text 145 59 trigger;
#X text 262 63 decay;
#X text 344 61 amount;
#X obj 196 237 / 1;
#X obj 329 191 r bd_ratchet_speed;
#X connect 0 0 6 0;
#X connect 0 0 6 1;
#X connect 1 0 0 0;
#X connect 2 0 3 1;
#X connect 3 0 9 0;
#X connect 4 0 12 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 7 0 4 0;
#X connect 8 0 4 1;
#X connect 10 0 5 0;
#X connect 12 0 16 0;
#X connect 16 0 1 0;
#X connect 17 0 16 1;
#X restore 42 231 pd pitch-env;
#N canvas 0 50 367 534 amp-filt-env 0;
#X obj 46 45 inlet;
#X obj 164 43 inlet;
#X obj 38 436 outlet~;
#X obj 135 368 line~;
#X msg 124 327 1 \, 0 \$1;
#X obj 134 152 f;
#X floatatom 155 121 5 0 0 0 - - -;
#X obj 161 91 * 1000;
#X obj 124 282 + 20;
#X obj 138 448 send~ l-env;
#X text 180 19 decay;
#X text 67 476 envelope for side chain compression;
#X text 36 16 trigger;
#X obj 127 243 / 1;
#X obj 152 209 r bd_ratchet_speed;
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 3 0 9 0;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 5 0 13 0;
#X connect 6 0 5 1;
#X connect 7 0 6 0;
#X connect 8 0 4 0;
#X connect 13 0 8 0;
#X connect 14 0 13 1;
#X restore 316 260 pd amp-filt-env;
#N canvas 949 119 560 569 output-processing 0;
#X obj 104 478 expr~ atan ( $v1 );
#X msg 235 234 0.2;
#X obj 64 280 vcf~ 0 0 0.2;
#X obj 229 202 r initbang;
#X floatatom 356 300 5 0 0 0 - - -;
#X obj 236 403 *~;
#X obj 360 278 + 1;
#X obj 269 343 *~ 1;
#X obj 60 72 inlet~;
#X obj 142 69 inlet~;
#X obj 356 230 inlet;
#X obj 89 513 outlet~;
#X text 367 207 distortion;
#X floatatom 235 102 5 0 0 0 - - -;
#X obj 126 187 *~;
#X obj 231 126 mtof~;
#X obj 238 77 * 127;
#X obj 239 50 inlet;
#X obj 357 255 * 20;
#X obj 102 438 *~ 4;
#X text 153 440 sets base distortion amount a little higher;
#X text 251 480 common S-curve saturation equation;
#X text 37 40 audio in;
#X text 133 41 env in;
#X text 238 26 brightness;
#X text 225 173 stubborn about initalizing filter Q;
#X connect 0 0 11 0;
#X connect 1 0 2 2;
#X connect 2 0 7 0;
#X connect 3 0 1 0;
#X connect 4 0 7 1;
#X connect 5 0 19 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 2 0;
#X connect 9 0 14 0;
#X connect 9 0 5 1;
#X connect 10 0 18 0;
#X connect 13 0 15 0;
#X connect 14 0 2 1;
#X connect 15 0 14 1;
#X connect 16 0 13 0;
#X connect 17 0 16 0;
#X connect 18 0 6 0;
#X connect 19 0 0 0;
#X restore 162 362 pd output-processing;
#X connect 0 0 4 0;
#X connect 1 0 7 0;
#X connect 1 0 8 0;
#X connect 3 0 1 0;
#X connect 3 1 5 0;
#X connect 4 0 1 0;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 5 1 7 1;
#X connect 5 2 7 2;
#X connect 5 3 6 1;
#X connect 5 4 8 1;
#X connect 5 5 9 2;
#X connect 5 6 9 3;
#X connect 6 0 9 0;
#X connect 7 0 6 0;
#X connect 8 0 9 1;
#X connect 9 0 2 0;
#X restore 44 240 pd bd;
#X obj 48 180 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 642 41 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 194 156 change;
#X obj 192 177 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 194 128 r file;
#N canvas 672 197 520 708 sd 0;
#X obj 156 49 inlet;
#X obj 186 225 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 316 635 outlet~;
#X obj 246 132 t b b;
#X obj 316 564 *~;
#N canvas 267 64 811 587 randomness 0;
#X obj 46 26 inlet;
#X obj 363 542 outlet;
#X obj 309 74 random 100;
#X obj 627 32 r speed;
#X obj 322 363 spigot 1;
#X obj 603 76 * 200;
#X obj 439 132 - 100;
#X obj 379 159 <;
#X obj 414 410 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 39 416 metro 100;
#X obj 41 478 spigot;
#X obj 42 527 outlet;
#X obj 408 441 == 0;
#X obj 357 479 spigot 1;
#X obj 395 276 &&;
#X text 614 189 turn on or off the effect;
#X text 618 122 decide if skipping step;
#N canvas 906 356 697 389 calculate-burst-timing 0;
#X obj 26 226 r time_base;
#X obj 103 50 / 25;
#X obj 99 86 int;
#X obj 85 119 sel 0 1 2 3;
#X msg 72 151 1;
#X msg 107 148 2;
#X msg 139 151 4;
#X obj 124 303 /, f 5;
#X obj 123 270 f;
#X obj 123 202 t b f;
#X msg 177 154 8;
#X obj 57 248 max 20;
#X obj 102 20 inlet;
#X obj 124 338 outlet;
#X text 227 156 burst timing is only even multiples;
#X text 198 328 time base caluculated from incoming triggers;
#X obj 207 219 spigot 1;
#X obj 295 215 sel 0;
#X msg 286 247 1;
#X obj 230 287 s sd_ratchet_speed;
#X obj 266 181 inlet;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 10 0;
#X connect 4 0 9 0;
#X connect 4 0 16 0;
#X connect 5 0 9 0;
#X connect 5 0 16 0;
#X connect 6 0 9 0;
#X connect 6 0 16 0;
#X connect 7 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 7 1;
#X connect 10 0 9 0;
#X connect 10 0 16 0;
#X connect 11 0 8 1;
#X connect 12 0 1 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 16 1;
#X connect 20 0 17 0;
#X restore 103 339 pd calculate-burst-timing;
#X obj 381 242 f;
#X obj 401 198 t b f;
#X obj 590 290 &&;
#X obj 576 256 f;
#X obj 596 212 t b f;
#X obj 588 333 == 0;
#X obj 601 168 r glitch_on_control;
#X text 450 433 supress normal triggers when ratcheting;
#X text 454 456 to keep parameters locked;
#X text 411 162 decide if ratcheting;
#X obj 575 118 >;
#X obj 72 237 r kill_burst;
#X msg 69 278 0;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 0 17 0;
#X connect 2 0 28 0;
#X connect 3 0 5 0;
#X connect 4 0 9 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 5 0 28 1;
#X connect 6 0 7 1;
#X connect 7 0 18 0;
#X connect 8 0 10 1;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 1;
#X connect 13 0 1 0;
#X connect 14 0 8 0;
#X connect 14 0 17 1;
#X connect 17 0 9 1;
#X connect 18 0 14 0;
#X connect 19 0 18 0;
#X connect 19 1 14 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 22 1 20 1;
#X connect 23 0 4 1;
#X connect 24 0 22 0;
#X connect 24 0 19 0;
#X connect 28 0 21 0;
#X connect 29 0 30 0;
#X connect 30 0 9 0;
#X restore 154 98 pd randomness;
#N canvas 722 181 1136 623 parameters 0;
#X obj 533 394 r density;
#X obj 741 405 r size;
#X obj 641 412 r blend;
#X obj 417 395 r start;
#X obj 398 297 *;
#X obj 415 272 r start_alt;
#X obj 520 295 *;
#X obj 624 311 *;
#X obj 722 302 *;
#X obj 819 309 *;
#X obj 537 270 r density_alt;
#X obj 644 279 r blend_alt;
#X obj 739 277 r size_alt;
#X obj 832 278 r overlap_alt;
#X obj 404 425 +;
#X obj 517 429 +;
#X obj 614 446 +;
#X obj 718 440 +, f 4;
#X obj 815 451 +, f 4;
#X obj 394 166 random 100;
#X obj 517 170 random 100;
#X obj 629 171 random 100;
#X obj 740 176 random 100;
#X obj 824 176 random 100;
#X obj 941 455 r window;
#X obj 843 411 r overlap;
#X obj 831 216 / 100;
#X obj 737 212 / 100;
#X obj 641 215 / 100;
#X obj 525 214 / 100;
#X obj 391 205 / 100;
#X obj 405 532 outlet;
#X obj 502 535 outlet;
#X obj 612 543 outlet;
#X obj 707 531 outlet;
#X obj 808 542 outlet;
#X obj 906 541 outlet;
#X obj 408 487 f;
#X obj 506 490 f;
#X obj 614 500 f;
#X obj 710 488 f;
#X obj 813 492 f;
#X obj 912 491 f;
#X obj 134 108 t b b;
#X obj 144 29 inlet;
#X obj 139 453 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 129 71 spigot 1;
#X text 485 31 freezes/ unfreezes drum parameters;
#X text 212 162 generate random value;
#X text 238 263 scale random value;
#X text 877 368 offset by base parameter;
#X text 968 390 value;
#X text 18 480 only update if drum;
#X text 28 496 is unfrozen;
#X obj 219 378 r pitch;
#X obj 205 429 f;
#X text 202 351 pitch has no randomness;
#X obj 205 545 outlet~;
#X obj 209 482 * 127;
#X obj 206 514 +~ 24;
#X obj 354 20 r file_alt;
#X obj 362 103 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 361 46 change;
#X obj 360 70 sel 1;
#X connect 0 0 15 1;
#X connect 1 0 17 1;
#X connect 2 0 16 1;
#X connect 3 0 14 1;
#X connect 4 0 14 0;
#X connect 5 0 4 1;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 8 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 6 1;
#X connect 11 0 7 1;
#X connect 12 0 8 1;
#X connect 13 0 9 1;
#X connect 14 0 37 1;
#X connect 15 0 38 1;
#X connect 16 0 39 1;
#X connect 17 0 40 1;
#X connect 18 0 41 1;
#X connect 19 0 30 0;
#X connect 20 0 29 0;
#X connect 21 0 28 0;
#X connect 22 0 27 0;
#X connect 23 0 26 0;
#X connect 24 0 42 1;
#X connect 25 0 18 1;
#X connect 26 0 9 0;
#X connect 27 0 8 0;
#X connect 28 0 7 0;
#X connect 29 0 6 0;
#X connect 30 0 4 0;
#X connect 37 0 31 0;
#X connect 38 0 32 0;
#X connect 39 0 33 0;
#X connect 40 0 34 0;
#X connect 41 0 35 0;
#X connect 42 0 36 0;
#X connect 43 0 45 0;
#X connect 43 1 19 0;
#X connect 43 1 20 0;
#X connect 43 1 21 0;
#X connect 43 1 22 0;
#X connect 43 1 23 0;
#X connect 44 0 46 0;
#X connect 45 0 37 0;
#X connect 45 0 38 0;
#X connect 45 0 39 0;
#X connect 45 0 40 0;
#X connect 45 0 41 0;
#X connect 45 0 42 0;
#X connect 45 0 55 0;
#X connect 46 0 43 0;
#X connect 54 0 55 1;
#X connect 55 0 58 0;
#X connect 58 0 59 0;
#X connect 59 0 57 0;
#X connect 60 0 62 0;
#X connect 61 0 46 1;
#X connect 62 0 63 0;
#X connect 63 0 61 0;
#X restore 278 177 pd parameters;
#N canvas 1223 202 488 505 pitch-env 0;
#X obj 198 311 line~;
#X msg 195 271 1 \, 0 \$1;
#X floatatom 245 348 5 0 0 0 - - -;
#X obj 179 401 *~;
#X obj 198 169 f, f 4;
#X obj 255 323 * 64;
#X obj 179 359 *~;
#X obj 162 83 inlet;
#X obj 277 94 inlet;
#X obj 179 454 outlet~;
#X obj 336 91 inlet;
#X text 53 352 exponential env;
#X obj 189 200 * 1000;
#X text 145 59 trigger;
#X text 262 63 decay;
#X text 344 61 amount;
#X obj 196 237 / 1;
#X obj 329 191 r sd_ratchet_speed;
#X obj 281 400 outlet~;
#X connect 0 0 6 0;
#X connect 0 0 6 1;
#X connect 1 0 0 0;
#X connect 2 0 3 1;
#X connect 3 0 9 0;
#X connect 4 0 12 0;
#X connect 5 0 2 0;
#X connect 6 0 3 0;
#X connect 6 0 18 0;
#X connect 7 0 4 0;
#X connect 8 0 4 1;
#X connect 10 0 5 0;
#X connect 12 0 16 0;
#X connect 16 0 1 0;
#X connect 17 0 16 1;
#X restore 87 314 pd pitch-env;
#N canvas 0 50 367 534 amp-filt-env 0;
#X obj 46 45 inlet;
#X obj 164 43 inlet;
#X obj 38 436 outlet~;
#X obj 135 368 line~;
#X msg 124 327 1 \, 0 \$1;
#X obj 134 152 f;
#X floatatom 155 121 5 0 0 0 - - -;
#X obj 161 91 * 1000;
#X obj 124 282 + 20;
#X text 180 19 decay;
#X text 67 476 envelope for side chain compression;
#X text 36 16 trigger;
#X obj 127 243 / 1;
#X obj 152 209 r sd_ratchet_speed;
#X obj 138 448 send~ r-env1;
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 3 0 2 0;
#X connect 3 0 14 0;
#X connect 4 0 3 0;
#X connect 5 0 12 0;
#X connect 6 0 5 1;
#X connect 7 0 6 0;
#X connect 8 0 4 0;
#X connect 12 0 8 0;
#X connect 13 0 12 1;
#X restore 365 360 pd amp-filt-env;
#N canvas 317 112 696 729 sound-generation 0;
#X obj 119 10 inlet~;
#X obj 298 12 inlet;
#X obj 305 683 outlet~;
#X obj 409 423 inlet;
#X obj 111 230 phasor~;
#X obj 231 458 noise~;
#X obj 125 558 samphold~;
#X obj 160 168 expr~ pow ( 2 \, $v1 );
#X obj 169 135 *~;
#X obj 120 198 *~;
#X obj 78 662 send~ snare-fb;
#X obj 186 85 receive~ snare-fb;
#X obj 268 535 *~;
#X obj 300 640 vcf~ 0 0 0.2;
#X obj 464 565 r initbang;
#X msg 471 603 0.8;
#X obj 352 602 mtof~;
#N canvas 0 50 286 337 split-param 0;
#X obj 96 82 moses 1;
#X obj 121 49 * 2;
#X obj 190 126 - 1;
#X msg 138 128 0;
#X obj 67 196 * 2;
#X obj 149 191 f;
#X msg 64 128 1;
#X obj 154 235 * 127;
#X obj 100 12 inlet;
#X obj 155 270 outlet;
#X obj 56 229 outlet;
#X connect 0 0 3 0;
#X connect 0 0 4 0;
#X connect 0 1 2 0;
#X connect 0 1 6 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 5 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 9 0;
#X connect 8 0 1 0;
#X restore 294 42 pd split-param;
#X floatatom 621 407 5 0 0 0 - - -;
#X obj 473 488 *~;
#X obj 379 133 *~;
#X obj 634 374 * 127;
#X obj 466 264 inlet~;
#X obj 556 265 inlet;
#X obj 114 105 mtof~;
#X text 71 260 oscillator clock for pitched noise;
#X text 209 406 noise source;
#X text 313 534 blend in pure noise;
#X text 204 136 randomize pitch;
#X text 421 133 randomize cutoff;
#X text 526 488 brightness;
#X connect 0 0 24 0;
#X connect 1 0 17 0;
#X connect 3 0 12 1;
#X connect 4 0 6 1;
#X connect 5 0 6 0;
#X connect 5 0 12 0;
#X connect 6 0 10 0;
#X connect 6 0 13 0;
#X connect 7 0 9 1;
#X connect 8 0 7 0;
#X connect 9 0 4 0;
#X connect 11 0 8 0;
#X connect 11 0 20 0;
#X connect 12 0 13 0;
#X connect 13 0 2 0;
#X connect 14 0 15 0;
#X connect 15 0 13 2;
#X connect 16 0 13 1;
#X connect 17 0 8 1;
#X connect 17 1 20 1;
#X connect 18 0 19 1;
#X connect 19 0 16 0;
#X connect 20 0 16 0;
#X connect 21 0 18 0;
#X connect 22 0 19 0;
#X connect 23 0 21 0;
#X connect 24 0 9 0;
#X restore 157 496 pd sound-generation;
#X obj 314 600 *~ 1;
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 1 0 8 0;
#X connect 3 0 1 0;
#X connect 3 1 6 0;
#X connect 4 0 10 0;
#X connect 5 0 1 0;
#X connect 5 1 3 0;
#X connect 6 0 9 0;
#X connect 6 1 7 1;
#X connect 6 2 7 2;
#X connect 6 3 9 1;
#X connect 6 4 8 1;
#X connect 6 5 9 4;
#X connect 6 6 9 2;
#X connect 7 0 9 0;
#X connect 8 0 4 1;
#X connect 8 0 9 3;
#X connect 9 0 4 0;
#X connect 10 0 2 0;
#X restore 188 237 pd sd;
#X obj 291 160 change;
#X obj 287 192 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 374 120 r source;
#X obj 43 279 throw~ lbus;
#X obj 186 277 throw~ rbus;
#X obj 302 304 throw~ rbus;
#N canvas 1053 506 346 494 hh 0;
#X obj 31 35 inlet;
#X obj 154 403 outlet~;
#X obj 149 322 *~;
#X obj 158 42 inlet;
#X obj 265 98 t b b;
#N canvas 267 64 811 587 randomness 0;
#X obj 46 26 inlet;
#X obj 363 542 outlet;
#X obj 309 74 random 100;
#X obj 627 32 r speed;
#X obj 322 363 spigot 1;
#X obj 603 76 * 200;
#X obj 439 132 - 100;
#X obj 379 159 <;
#X obj 414 410 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 39 416 metro 100;
#X obj 41 478 spigot;
#X obj 42 527 outlet;
#X obj 408 441 == 0;
#X obj 357 479 spigot 1;
#X obj 395 276 &&;
#X text 614 189 turn on or off the effect;
#X text 618 122 decide if skipping step;
#N canvas 906 356 697 389 calculate-burst-timing 0;
#X obj 26 226 r time_base;
#X obj 103 50 / 25;
#X obj 99 86 int;
#X obj 85 119 sel 0 1 2 3;
#X msg 72 151 1;
#X msg 107 148 2;
#X msg 139 151 4;
#X obj 124 303 /, f 5;
#X obj 123 270 f;
#X obj 123 202 t b f;
#X msg 177 154 8;
#X obj 57 248 max 20;
#X obj 102 20 inlet;
#X obj 124 338 outlet;
#X text 227 156 burst timing is only even multiples;
#X text 198 328 time base caluculated from incoming triggers;
#X obj 207 219 spigot 1;
#X obj 295 215 sel 0;
#X msg 286 247 1;
#X obj 230 287 s hho_ratchet_speed;
#X obj 266 181 inlet;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 10 0;
#X connect 4 0 9 0;
#X connect 4 0 16 0;
#X connect 5 0 9 0;
#X connect 5 0 16 0;
#X connect 6 0 9 0;
#X connect 6 0 16 0;
#X connect 7 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 7 1;
#X connect 10 0 9 0;
#X connect 10 0 16 0;
#X connect 11 0 8 1;
#X connect 12 0 1 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 16 1;
#X connect 20 0 17 0;
#X restore 103 339 pd calculate-burst-timing;
#X obj 381 242 f;
#X obj 401 198 t b f;
#X obj 590 290 &&;
#X obj 576 256 f;
#X obj 596 212 t b f;
#X obj 588 333 == 0;
#X obj 601 168 r glitch_on_control;
#X text 450 433 supress normal triggers when ratcheting;
#X text 454 456 to keep parameters locked;
#X text 411 162 decide if ratcheting;
#X obj 575 118 >;
#X obj 72 237 r kill_burst;
#X msg 69 278 0;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 0 17 0;
#X connect 2 0 28 0;
#X connect 3 0 5 0;
#X connect 4 0 9 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 5 0 28 1;
#X connect 6 0 7 1;
#X connect 7 0 18 0;
#X connect 8 0 10 1;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 1;
#X connect 13 0 1 0;
#X connect 14 0 8 0;
#X connect 14 0 17 1;
#X connect 17 0 9 1;
#X connect 18 0 14 0;
#X connect 19 0 18 0;
#X connect 19 1 14 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 22 1 20 1;
#X connect 23 0 4 1;
#X connect 24 0 22 0;
#X connect 24 0 19 0;
#X connect 28 0 21 0;
#X connect 29 0 30 0;
#X connect 30 0 9 0;
#X restore 173 64 pd randomness;
#N canvas 1335 413 1136 623 parameters 0;
#X obj 533 394 r density;
#X obj 741 405 r size;
#X obj 641 412 r blend;
#X obj 417 395 r start;
#X obj 398 297 *;
#X obj 415 272 r start_alt;
#X obj 520 295 *;
#X obj 624 311 *;
#X obj 722 302 *;
#X obj 819 309 *;
#X obj 537 270 r density_alt;
#X obj 644 279 r blend_alt;
#X obj 739 277 r size_alt;
#X obj 832 278 r overlap_alt;
#X obj 404 425 +;
#X obj 517 429 +;
#X obj 614 446 +;
#X obj 718 440 +, f 4;
#X obj 815 451 +, f 4;
#X obj 394 166 random 100;
#X obj 517 170 random 100;
#X obj 629 171 random 100;
#X obj 740 176 random 100;
#X obj 824 176 random 100;
#X obj 941 455 r window;
#X obj 843 411 r overlap;
#X obj 831 216 / 100;
#X obj 737 212 / 100;
#X obj 641 215 / 100;
#X obj 525 214 / 100;
#X obj 391 205 / 100;
#X obj 406 527 outlet;
#X obj 503 530 outlet;
#X obj 613 538 outlet;
#X obj 708 526 outlet;
#X obj 809 537 outlet;
#X obj 907 536 outlet;
#X obj 409 482 f;
#X obj 507 485 f;
#X obj 615 495 f;
#X obj 711 483 f;
#X obj 814 487 f;
#X obj 913 486 f;
#X obj 134 108 t b b;
#X obj 144 29 inlet;
#X obj 139 453 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 129 71 spigot 1;
#X text 311 47 freezes/ unfreezes drum parameters;
#X text 212 162 generate random value;
#X text 238 263 scale random value;
#X text 877 368 offset by base parameter;
#X text 968 390 value;
#X text 18 480 only update if drum;
#X text 28 496 is unfrozen;
#X obj 219 378 r pitch;
#X obj 205 429 f;
#X text 202 351 pitch has no randomness;
#X obj 205 545 outlet~;
#X obj 209 482 * 127;
#X obj 206 514 +~ 24;
#X msg 209 92 1;
#X obj 272 53 change;
#X obj 268 76 sel 1;
#X obj 269 102 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 276 23 r reset_alt;
#X connect 0 0 15 1;
#X connect 1 0 17 1;
#X connect 2 0 16 1;
#X connect 3 0 14 1;
#X connect 4 0 14 0;
#X connect 5 0 4 1;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 8 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 6 1;
#X connect 11 0 7 1;
#X connect 12 0 8 1;
#X connect 13 0 9 1;
#X connect 14 0 37 1;
#X connect 15 0 38 1;
#X connect 16 0 39 1;
#X connect 17 0 40 1;
#X connect 18 0 41 1;
#X connect 19 0 30 0;
#X connect 20 0 29 0;
#X connect 21 0 28 0;
#X connect 22 0 27 0;
#X connect 23 0 26 0;
#X connect 24 0 42 1;
#X connect 25 0 18 1;
#X connect 26 0 9 0;
#X connect 27 0 8 0;
#X connect 28 0 7 0;
#X connect 29 0 6 0;
#X connect 30 0 4 0;
#X connect 37 0 31 0;
#X connect 38 0 32 0;
#X connect 39 0 33 0;
#X connect 40 0 34 0;
#X connect 41 0 35 0;
#X connect 42 0 36 0;
#X connect 43 0 45 0;
#X connect 43 1 19 0;
#X connect 43 1 20 0;
#X connect 43 1 21 0;
#X connect 43 1 22 0;
#X connect 43 1 23 0;
#X connect 44 0 46 0;
#X connect 45 0 37 0;
#X connect 45 0 38 0;
#X connect 45 0 39 0;
#X connect 45 0 40 0;
#X connect 45 0 41 0;
#X connect 45 0 42 0;
#X connect 45 0 55 0;
#X connect 46 0 43 0;
#X connect 54 0 55 1;
#X connect 55 0 58 0;
#X connect 58 0 59 0;
#X connect 59 0 57 0;
#X connect 60 0 46 1;
#X connect 61 0 62 0;
#X connect 62 0 63 0;
#X connect 63 0 46 1;
#X connect 64 0 61 0;
#X restore 58 195 pd parameters;
#X obj 253 165 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 117 96 t b b;
#N canvas 267 64 811 587 randomness 0;
#X obj 46 26 inlet;
#X obj 363 542 outlet;
#X obj 309 74 random 100;
#X obj 627 32 r speed;
#X obj 322 363 spigot 1;
#X obj 603 76 * 200;
#X obj 439 132 - 100;
#X obj 379 159 <;
#X obj 414 410 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 39 416 metro 100;
#X obj 41 478 spigot;
#X obj 42 527 outlet;
#X obj 408 441 == 0;
#X obj 357 479 spigot 1;
#X obj 395 276 &&;
#X text 614 189 turn on or off the effect;
#X text 618 122 decide if skipping step;
#N canvas 906 356 697 389 calculate-burst-timing 0;
#X obj 26 226 r time_base;
#X obj 103 50 / 25;
#X obj 99 86 int;
#X obj 85 119 sel 0 1 2 3;
#X msg 72 151 1;
#X msg 107 148 2;
#X msg 139 151 4;
#X obj 124 303 /, f 5;
#X obj 123 270 f;
#X obj 123 202 t b f;
#X msg 177 154 8;
#X obj 57 248 max 20;
#X obj 102 20 inlet;
#X obj 124 338 outlet;
#X text 227 156 burst timing is only even multiples;
#X text 198 328 time base caluculated from incoming triggers;
#X obj 207 219 spigot 1;
#X obj 295 215 sel 0;
#X msg 286 247 1;
#X obj 230 287 s hhc_ratchet_speed;
#X obj 266 181 inlet;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 10 0;
#X connect 4 0 9 0;
#X connect 4 0 16 0;
#X connect 5 0 9 0;
#X connect 5 0 16 0;
#X connect 6 0 9 0;
#X connect 6 0 16 0;
#X connect 7 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 7 1;
#X connect 10 0 9 0;
#X connect 10 0 16 0;
#X connect 11 0 8 1;
#X connect 12 0 1 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 20 0 16 1;
#X connect 20 0 17 0;
#X restore 103 339 pd calculate-burst-timing;
#X obj 381 242 f;
#X obj 401 198 t b f;
#X obj 590 290 &&;
#X obj 576 256 f;
#X obj 596 212 t b f;
#X obj 588 333 == 0;
#X obj 601 168 r glitch_on_control;
#X text 450 433 supress normal triggers when ratcheting;
#X text 454 456 to keep parameters locked;
#X text 411 162 decide if ratcheting;
#X obj 575 118 >;
#X obj 72 237 r kill_burst;
#X msg 69 278 0;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 0 17 0;
#X connect 2 0 28 0;
#X connect 3 0 5 0;
#X connect 4 0 9 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 5 0 28 1;
#X connect 6 0 7 1;
#X connect 7 0 18 0;
#X connect 8 0 10 1;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 1;
#X connect 13 0 1 0;
#X connect 14 0 8 0;
#X connect 14 0 17 1;
#X connect 17 0 9 1;
#X connect 18 0 14 0;
#X connect 19 0 18 0;
#X connect 19 1 14 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 22 1 20 1;
#X connect 23 0 4 1;
#X connect 24 0 22 0;
#X connect 24 0 19 0;
#X connect 28 0 21 0;
#X connect 29 0 30 0;
#X connect 30 0 9 0;
#X restore 25 62 pd randomness;
#X obj 193 172 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#N canvas 1253 231 1078 884 sound-generation 0;
#X obj 308 303 mtof~;
#X floatatom 821 613 5 0 0 0 - - -;
#X floatatom 329 126 5 0 0 0 - - -;
#X obj 819 587 * 127, f 6;
#X obj 762 600 noise~;
#X obj 99 321 phasor~;
#X obj 169 323 phasor~;
#X obj 238 331 phasor~;
#X obj 796 662 hip~;
#X obj 814 640 mtof;
#X obj 419 489 expr~ $v1 > 0.5;
#X obj 503 518 expr~ $v1 > 0.5;
#X obj 606 474 expr~ $v1 > 0.5;
#X obj 686 442 expr~ $v1 > 0.5;
#X obj 270 176 +~;
#X obj 196 179 -~;
#X obj 121 234 -~;
#X obj 314 237 +~;
#X obj 313 329 phasor~;
#X obj 650 566 *~;
#X obj 491 552 *~;
#X obj 602 600 *~;
#X obj 239 293 mtof~;
#X obj 178 284 mtof~;
#X obj 108 289 mtof~;
#X obj 339 101 * 24;
#X obj 238 543 *~;
#X obj 81 527 *~;
#X obj 190 577 *~;
#X obj 815 707 lop~;
#X obj 888 648 mtof;
#X obj 893 602 * 127;
#X obj 507 717 *~ 0;
#X obj 350 711 *~ 1;
#X obj 259 501 cos~;
#X obj 221 502 cos~;
#X obj 114 489 cos~;
#X obj 76 490 cos~;
#X obj 348 607 t b f;
#X msg 341 636 1;
#X obj 363 672 -;
#X obj 219 79 inlet~;
#X obj 510 826 outlet~;
#X obj 331 54 inlet;
#X obj 751 94 inlet;
#X obj 840 430 inlet;
#X obj 900 568 inlet;
#X text 749 63 wave - squarewave to sin;
#X text 352 40 oscillator spread;
#X text 49 620 ring modulate all 4 oscillators;
#X text 483 629 ring modulate all 4 oscillators;
#X text 404 710 crossfade;
#X text 206 37 center freq;
#X text 803 405 high pass on noise;
#X text 890 536 low pass on noise;
#X obj 821 487 t b f;
#X obj 820 563 -;
#X msg 816 531 1;
#X obj 449 109 inlet~;
#X obj 451 157 *~;
#X obj 541 114 inlet;
#X obj 527 141 * 72;
#X text 422 78 amp envelope in;
#X text 530 85 freq envelope amount;
#X connect 0 0 18 0;
#X connect 1 0 9 0;
#X connect 2 0 14 1;
#X connect 2 0 15 1;
#X connect 2 0 16 1;
#X connect 2 0 17 1;
#X connect 3 0 1 0;
#X connect 4 0 8 0;
#X connect 5 0 10 0;
#X connect 5 0 37 0;
#X connect 6 0 11 0;
#X connect 6 0 36 0;
#X connect 7 0 12 0;
#X connect 7 0 35 0;
#X connect 8 0 29 0;
#X connect 9 0 8 1;
#X connect 10 0 20 0;
#X connect 11 0 20 1;
#X connect 12 0 19 0;
#X connect 13 0 19 1;
#X connect 14 0 17 0;
#X connect 14 0 22 0;
#X connect 15 0 16 0;
#X connect 15 0 23 0;
#X connect 16 0 24 0;
#X connect 17 0 0 0;
#X connect 18 0 13 0;
#X connect 18 0 34 0;
#X connect 19 0 21 1;
#X connect 20 0 21 0;
#X connect 21 0 32 0;
#X connect 22 0 7 0;
#X connect 23 0 6 0;
#X connect 24 0 5 0;
#X connect 25 0 2 0;
#X connect 26 0 28 1;
#X connect 27 0 28 0;
#X connect 28 0 33 0;
#X connect 29 0 42 0;
#X connect 30 0 29 1;
#X connect 31 0 30 0;
#X connect 32 0 42 0;
#X connect 33 0 42 0;
#X connect 34 0 26 1;
#X connect 35 0 26 0;
#X connect 36 0 27 1;
#X connect 37 0 27 0;
#X connect 38 0 39 0;
#X connect 38 1 40 1;
#X connect 39 0 40 0;
#X connect 40 0 33 1;
#X connect 41 0 15 0;
#X connect 41 0 14 0;
#X connect 43 0 25 0;
#X connect 44 0 38 0;
#X connect 44 0 32 1;
#X connect 45 0 55 0;
#X connect 46 0 31 0;
#X connect 55 0 57 0;
#X connect 55 1 56 1;
#X connect 56 0 3 0;
#X connect 57 0 56 0;
#X connect 58 0 59 0;
#X connect 59 0 14 0;
#X connect 59 0 15 0;
#X connect 60 0 61 0;
#X connect 61 0 59 1;
#X restore 54 283 pd sound-generation;
#N canvas 1619 346 519 567 amp-env 0;
#X obj 57 95 inlet;
#X obj 249 100 inlet;
#X obj 123 99 inlet;
#X obj 142 504 outlet~;
#X obj 159 447 line~;
#X msg 163 422 1 \, 0 \$1;
#X floatatom 318 230 5 0 0 0 - - -;
#X obj 164 395 + 20;
#X obj 101 291 f;
#X obj 296 255 f 10;
#X obj 269 501 send~ r-env2;
#X obj 130 362 / 1;
#X obj 215 351 / 1;
#X obj 146 327 r hhc_ratchet_speed;
#X obj 266 310 r hho_ratchet_speed;
#X text 44 45 closed highhat;
#X text 29 65 trigger;
#X text 118 68 decay;
#X text 241 62 trigger;
#X text 330 65 decay;
#X text 267 33 open highhat;
#X text 232 409 envelop resets to most recent;
#X text 235 435 trigger message;
#X text 263 282 scale envelopes separately;
#X floatatom 159 291 5 0 0 0 - - -;
#X obj 347 147 * 800;
#X obj 124 183 *;
#X obj 129 144 t f f;
#X obj 123 215 * 95;
#X obj 116 250 + 5;
#X obj 325 185 + 100;
#X connect 0 0 8 0;
#X connect 1 0 9 0;
#X connect 2 0 27 0;
#X connect 4 0 10 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 9 1;
#X connect 7 0 5 0;
#X connect 8 0 11 0;
#X connect 9 0 12 0;
#X connect 11 0 7 0;
#X connect 12 0 7 0;
#X connect 13 0 11 1;
#X connect 14 0 12 1;
#X connect 25 0 30 0;
#X connect 26 0 25 0;
#X connect 26 0 28 0;
#X connect 27 0 26 0;
#X connect 27 1 26 1;
#X connect 28 0 29 0;
#X connect 29 0 8 1;
#X connect 29 0 24 0;
#X connect 30 0 6 0;
#X restore 209 235 pd amp-env;
#X obj 146 369 *~ 2;
#X connect 0 0 9 0;
#X connect 2 0 13 0;
#X connect 3 0 5 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X connect 5 0 7 0;
#X connect 5 1 4 0;
#X connect 6 0 11 0;
#X connect 6 1 11 3;
#X connect 6 2 11 1;
#X connect 6 3 11 4;
#X connect 6 4 12 1;
#X connect 6 5 11 6;
#X connect 6 6 11 5;
#X connect 7 0 12 2;
#X connect 8 0 10 0;
#X connect 8 1 6 0;
#X connect 9 0 10 0;
#X connect 9 1 8 0;
#X connect 10 0 12 0;
#X connect 11 0 2 0;
#X connect 12 0 2 1;
#X connect 12 0 11 2;
#X connect 13 0 1 0;
#X restore 303 231 pd hh;
#X obj 298 119 r reset;
#X obj 368 199 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 372 167 change;
#X obj 464 155 change;
#X obj 460 187 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 475 312 throw~ rbus;
#X obj 466 129 r freeze;
#N canvas 286 141 402 675 fm 0;
#X obj 75 18 inlet;
#X obj 258 636 outlet~;
#X obj 167 501 r initbang;
#X obj 181 402 mtof;
#X obj 188 336 * 127;
#X obj 65 508 vcf~, f 10;
#X obj 188 444 *~;
#X msg 166 528 0.12;
#X obj 259 572 *~;
#X obj 187 363 - 32;
#X obj 63 152 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 158 113 t b b;
#N canvas 267 64 811 587 randomness 0;
#X obj 46 26 inlet;
#X obj 363 542 outlet;
#X obj 309 74 random 100;
#X obj 627 32 r speed;
#X obj 322 363 spigot 1;
#X obj 603 76 * 200;
#X obj 439 132 - 100;
#X obj 379 159 <;
#X obj 414 410 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 39 416 metro 100;
#X obj 41 478 spigot;
#X obj 42 527 outlet;
#X obj 408 441 == 0;
#X obj 357 479 spigot 1;
#X obj 395 276 &&;
#X text 614 189 turn on or off the effect;
#X text 618 122 decide if skipping step;
#N canvas 906 356 697 389 calculate-burst-timing 0;
#X obj 26 226 r time_base;
#X obj 103 50 / 25;
#X obj 99 86 int;
#X obj 85 119 sel 0 1 2 3;
#X msg 72 151 1;
#X msg 107 148 2;
#X msg 139 151 4;
#X obj 124 303 /, f 5;
#X obj 123 270 f;
#X obj 123 202 t b f;
#X msg 177 154 8;
#X obj 57 248 max 20;
#X obj 102 20 inlet;
#X obj 124 338 outlet;
#X text 227 156 burst timing is only even multiples;
#X text 198 328 time base caluculated from incoming triggers;
#X obj 207 219 spigot 1;
#X obj 295 215 sel 0;
#X msg 286 247 1;
#X obj 266 181 inlet;
#X obj 230 287 s fm_ratchet_speed;
#X connect 0 0 11 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 3 2 6 0;
#X connect 3 3 10 0;
#X connect 4 0 9 0;
#X connect 4 0 16 0;
#X connect 5 0 9 0;
#X connect 5 0 16 0;
#X connect 6 0 9 0;
#X connect 6 0 16 0;
#X connect 7 0 13 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 7 1;
#X connect 10 0 9 0;
#X connect 10 0 16 0;
#X connect 11 0 8 1;
#X connect 12 0 1 0;
#X connect 16 0 20 0;
#X connect 17 0 18 0;
#X connect 18 0 20 0;
#X connect 19 0 16 1;
#X connect 19 0 17 0;
#X restore 103 339 pd calculate-burst-timing;
#X obj 381 242 f;
#X obj 401 198 t b f;
#X obj 590 290 &&;
#X obj 576 256 f;
#X obj 596 212 t b f;
#X obj 588 333 == 0;
#X obj 601 168 r glitch_on_control;
#X text 450 433 supress normal triggers when ratcheting;
#X text 454 456 to keep parameters locked;
#X text 411 162 decide if ratcheting;
#X obj 575 118 >;
#X obj 72 237 r kill_burst;
#X msg 69 278 0;
#X connect 0 0 2 0;
#X connect 0 0 9 0;
#X connect 0 0 4 0;
#X connect 2 0 7 0;
#X connect 2 0 17 0;
#X connect 2 0 28 0;
#X connect 3 0 5 0;
#X connect 4 0 9 0;
#X connect 4 0 13 0;
#X connect 5 0 6 0;
#X connect 5 0 28 1;
#X connect 6 0 7 1;
#X connect 7 0 18 0;
#X connect 8 0 10 1;
#X connect 8 0 12 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 1;
#X connect 13 0 1 0;
#X connect 14 0 8 0;
#X connect 14 0 17 1;
#X connect 17 0 9 1;
#X connect 18 0 14 0;
#X connect 19 0 18 0;
#X connect 19 1 14 1;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 22 0 21 0;
#X connect 22 1 20 1;
#X connect 23 0 4 1;
#X connect 24 0 22 0;
#X connect 24 0 19 0;
#X connect 28 0 21 0;
#X connect 29 0 30 0;
#X connect 30 0 9 0;
#X restore 80 66 pd randomness;
#N canvas 722 181 1136 623 parameters 0;
#X obj 533 394 r density;
#X obj 741 405 r size;
#X obj 641 412 r blend;
#X obj 417 395 r start;
#X obj 398 297 *;
#X obj 415 272 r start_alt;
#X obj 520 295 *;
#X obj 624 311 *;
#X obj 722 302 *;
#X obj 819 309 *;
#X obj 537 270 r density_alt;
#X obj 644 279 r blend_alt;
#X obj 739 277 r size_alt;
#X obj 832 278 r overlap_alt;
#X obj 404 425 +;
#X obj 517 429 +;
#X obj 614 446 +;
#X obj 718 440 +, f 4;
#X obj 815 451 +, f 4;
#X obj 394 166 random 100;
#X obj 517 170 random 100;
#X obj 629 171 random 100;
#X obj 740 176 random 100;
#X obj 824 176 random 100;
#X obj 941 455 r window;
#X obj 843 411 r overlap;
#X obj 831 216 / 100;
#X obj 737 212 / 100;
#X obj 641 215 / 100;
#X obj 525 214 / 100;
#X obj 391 205 / 100;
#X obj 405 532 outlet;
#X obj 502 535 outlet;
#X obj 612 543 outlet;
#X obj 707 531 outlet;
#X obj 808 542 outlet;
#X obj 906 541 outlet;
#X obj 408 487 f;
#X obj 506 490 f;
#X obj 614 500 f;
#X obj 710 488 f;
#X obj 813 492 f;
#X obj 912 491 f;
#X obj 134 108 t b b;
#X obj 144 29 inlet;
#X obj 139 453 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 129 71 spigot 1;
#X text 485 31 freezes/ unfreezes drum parameters;
#X text 212 162 generate random value;
#X text 238 263 scale random value;
#X text 877 368 offset by base parameter;
#X text 968 390 value;
#X text 18 480 only update if drum;
#X text 28 496 is unfrozen;
#X obj 219 378 r pitch;
#X obj 205 429 f;
#X text 202 351 pitch has no randomness;
#X obj 209 482 * 127;
#X obj 354 20 r freeze_alt;
#X obj 206 514 + 12;
#X obj 205 545 outlet;
#X msg 214 72 1;
#X connect 0 0 15 1;
#X connect 1 0 17 1;
#X connect 2 0 16 1;
#X connect 3 0 14 1;
#X connect 4 0 14 0;
#X connect 5 0 4 1;
#X connect 6 0 15 0;
#X connect 7 0 16 0;
#X connect 8 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 6 1;
#X connect 11 0 7 1;
#X connect 12 0 8 1;
#X connect 13 0 9 1;
#X connect 14 0 37 1;
#X connect 15 0 38 1;
#X connect 16 0 39 1;
#X connect 17 0 40 1;
#X connect 18 0 41 1;
#X connect 19 0 30 0;
#X connect 20 0 29 0;
#X connect 21 0 28 0;
#X connect 22 0 27 0;
#X connect 23 0 26 0;
#X connect 24 0 42 1;
#X connect 25 0 18 1;
#X connect 26 0 9 0;
#X connect 27 0 8 0;
#X connect 28 0 7 0;
#X connect 29 0 6 0;
#X connect 30 0 4 0;
#X connect 37 0 31 0;
#X connect 38 0 32 0;
#X connect 39 0 33 0;
#X connect 40 0 34 0;
#X connect 41 0 35 0;
#X connect 42 0 36 0;
#X connect 43 0 45 0;
#X connect 43 1 19 0;
#X connect 43 1 20 0;
#X connect 43 1 21 0;
#X connect 43 1 22 0;
#X connect 43 1 23 0;
#X connect 44 0 46 0;
#X connect 45 0 37 0;
#X connect 45 0 38 0;
#X connect 45 0 39 0;
#X connect 45 0 40 0;
#X connect 45 0 41 0;
#X connect 45 0 42 0;
#X connect 45 0 55 0;
#X connect 46 0 43 0;
#X connect 54 0 55 1;
#X connect 55 0 57 0;
#X connect 57 0 59 0;
#X connect 58 0 46 1;
#X connect 59 0 60 0;
#X connect 61 0 46 1;
#X restore 193 154 pd parameters;
#X obj 259 606 *~ 1;
#N canvas 844 61 430 913 sound-generation 0;
#X obj 41 87 inlet;
#X obj 139 80 inlet;
#X obj 233 83 inlet;
#X obj 332 406 inlet;
#X floatatom 218 149 5 0 0 0 - - -;
#X obj 72 423 phasor~;
#X obj 145 429 phasor~;
#X obj 237 433 phasor~;
#X obj 50 726 cos~;
#X obj 231 612 t b f;
#X msg 224 641 1;
#X obj 246 677 -;
#X obj 49 655 phasor~;
#X obj 142 597 cos~;
#X obj 91 239 *~;
#X obj 103 266 /~;
#X obj 151 301 *~;
#X obj 165 327 /~;
#X obj 232 369 *~;
#X obj 258 397 /~;
#X floatatom 152 200 5 0 0 0 - - -;
#X floatatom 219 203 5 0 0 0 - - -;
#X obj 201 570 *~;
#X floatatom 332 447 5 0 0 0 - - -;
#X obj 152 175 int;
#X obj 219 170 int;
#X obj 184 540 cos~;
#X obj 236 462 cos~;
#X obj 224 498 *~, f 4;
#X obj 180 637 *~;
#X floatatom 152 152 5 0 0 0 - - -;
#X obj 50 774 *~ 1;
#X obj 199 782 *~ 0;
#X obj 46 127 mtof;
#X obj 140 827 outlet~;
#X obj 346 558 inlet;
#X text 28 62 base freq;
#X text 160 22 harmonic ratio;
#X text 131 45 numerator;
#X text 230 52 denominator;
#X text 322 373 PM amount;
#X text 309 528 wave sin - tan;
#X obj 200 741 expr~ tan ( $v1 );
#X obj 152 127 * 16;
#X obj 218 124 * 16;
#X connect 0 0 33 0;
#X connect 1 0 43 0;
#X connect 2 0 44 0;
#X connect 3 0 23 0;
#X connect 4 0 25 0;
#X connect 5 0 13 0;
#X connect 6 0 26 0;
#X connect 7 0 27 0;
#X connect 8 0 31 0;
#X connect 9 0 10 0;
#X connect 9 1 11 1;
#X connect 10 0 11 0;
#X connect 11 0 31 1;
#X connect 12 0 8 0;
#X connect 12 0 42 0;
#X connect 13 0 29 0;
#X connect 14 0 15 0;
#X connect 15 0 5 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 17 0 6 0;
#X connect 18 0 19 0;
#X connect 19 0 7 0;
#X connect 20 0 18 1;
#X connect 20 0 16 1;
#X connect 20 0 14 1;
#X connect 21 0 19 1;
#X connect 21 0 17 1;
#X connect 21 0 15 1;
#X connect 22 0 13 0;
#X connect 23 0 22 1;
#X connect 23 0 28 1;
#X connect 23 0 29 1;
#X connect 24 0 20 0;
#X connect 25 0 21 0;
#X connect 26 0 22 0;
#X connect 27 0 28 0;
#X connect 28 0 26 0;
#X connect 29 0 8 0;
#X connect 29 0 42 0;
#X connect 30 0 24 0;
#X connect 31 0 34 0;
#X connect 32 0 34 0;
#X connect 33 0 12 0;
#X connect 33 0 14 0;
#X connect 35 0 9 0;
#X connect 35 0 32 1;
#X connect 42 0 32 0;
#X connect 43 0 30 0;
#X connect 44 0 4 0;
#X restore 21 271 pd sound-generation;
#N canvas 0 50 367 560 amp-filt-env 0;
#X obj 46 45 inlet;
#X obj 164 43 inlet;
#X obj 48 466 outlet~;
#X obj 135 368 line~;
#X msg 124 327 1 \, 0 \$1;
#X obj 134 152 f;
#X floatatom 155 121 5 0 0 0 - - -;
#X obj 161 91 * 1000;
#X obj 124 282 + 20;
#X text 180 19 decay;
#X text 77 506 envelope for side chain compression;
#X text 36 16 trigger;
#X obj 127 243 / 1;
#X obj 152 209 r fm_ratchet_speed;
#X obj 148 478 send~ r-env3;
#X obj 85 426 *~;
#X text 138 402 exponential envelope;
#X text 135 426 (overwhelming otherwise);
#X connect 0 0 5 0;
#X connect 1 0 7 0;
#X connect 3 0 15 0;
#X connect 3 0 15 1;
#X connect 4 0 3 0;
#X connect 5 0 12 0;
#X connect 6 0 5 1;
#X connect 7 0 6 0;
#X connect 8 0 4 0;
#X connect 12 0 8 0;
#X connect 13 0 12 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 275 343 pd amp-filt-env;
#X connect 0 0 12 0;
#X connect 2 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 9 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 5 2;
#X connect 8 0 14 0;
#X connect 9 0 3 0;
#X connect 10 0 16 0;
#X connect 11 0 10 0;
#X connect 11 1 13 0;
#X connect 12 0 10 0;
#X connect 12 1 11 0;
#X connect 13 0 15 0;
#X connect 13 1 15 1;
#X connect 13 2 15 2;
#X connect 13 3 15 3;
#X connect 13 4 16 1;
#X connect 13 5 4 0;
#X connect 13 6 15 4;
#X connect 14 0 1 0;
#X connect 15 0 5 0;
#X connect 16 0 6 1;
#X connect 16 0 8 1;
#X restore 476 226 pd fm;
#X floatatom 703 34 5 0 0 0 - - -;
#X obj 662 275 t b;
#X obj 634 87 metro 400;
#N canvas 905 120 410 453 calculate-timing 0;
#X obj 83 51 inlet;
#X obj 73 213 timer;
#X floatatom 74 283 5 0 0 0 - - -;
#X obj 72 254 f;
#X obj 68 176 t b b b;
#X obj 76 103 spigot 1;
#X msg 162 87 1;
#X msg 161 111 0;
#X obj 88 134 delay 20;
#X obj 58 314 s time_base;
#X text 37 346 calculates timing grid based on most recent;
#X text 38 365 received triggers;
#X connect 0 0 5 0;
#X connect 1 0 3 1;
#X connect 2 0 9 0;
#X connect 3 0 2 0;
#X connect 4 0 1 0;
#X connect 4 1 3 0;
#X connect 4 2 1 1;
#X connect 5 0 7 0;
#X connect 5 0 4 0;
#X connect 5 0 8 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 6 0;
#X restore 654 301 pd calculate-timing;
#X obj 638 9 r make_sounds;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 12 0;
#X connect 3 0 2 0;
#X connect 3 0 25 0;
#X connect 4 0 26 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 6 0 25 0;
#X connect 7 0 5 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 15 0;
#X connect 10 0 25 0;
#X connect 11 0 18 0;
#X connect 15 0 14 0;
#X connect 16 0 9 0;
#X connect 17 0 15 1;
#X connect 17 0 25 0;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 20 0 25 0;
#X connect 20 0 23 0;
#X connect 22 0 19 0;
#X connect 23 0 21 0;
#X connect 24 0 26 1;
#X connect 25 0 27 0;
#X connect 26 0 10 0;
#X connect 26 0 17 0;
#X connect 26 0 3 0;
#X connect 26 0 6 0;
#X connect 28 0 4 0;
#X restore 50 233 pd drum-synthesis;
#X obj 559 353 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 402 329 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4200 1;
#X obj 235 358 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7900 1;
#X obj 563 301 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4900 1;
#X obj 566 251 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 4500 1;
#X obj 234 301 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 3700 1;
#X obj 237 252 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 6100 1;
#X obj 232 274 s start_alt;
#X obj 233 327 s density_alt;
#X obj 230 379 s blend_alt;
#X obj 401 354 s pitch_alt;
#X obj 563 274 s size_alt;
#X obj 560 326 s overlap_alt;
#X obj 556 377 s window_alt;
#X text 545 51 DUUUUUURM;
#X text 545 84 By Eli Pechman 2018;
#X text 544 108 Made for Qubit Nebulae v2;
#X text 540 164 www.MysticCircuits.com;
#X text 538 182 www.QubitElectronix.com;
#X obj 710 408 s make_sounds;
#X obj 727 342 tgl 40 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X connect 0 0 8 0;
#X connect 9 0 6 0;
#X connect 10 0 7 0;
#X connect 11 0 5 0;
#X connect 12 0 4 0;
#X connect 13 0 2 0;
#X connect 14 0 3 0;
#X connect 15 0 1 0;
#X connect 21 0 34 0;
#X connect 22 0 31 0;
#X connect 23 0 30 0;
#X connect 24 0 33 0;
#X connect 25 0 32 0;
#X connect 26 0 29 0;
#X connect 27 0 28 0;
#X connect 41 0 40 0;
